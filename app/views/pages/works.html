{% extends '../partials/base.html' %}

{% set path = 'discover-works' %}


{% block elements %}

{% set bannerTitle = 'Descubre obras y creaciones' %}
{% set bannerImg = 'works.jpg' %}
{% include '../partials/banner.html' %}

<div class="grid-container u-padding-top-20">
	<div class="grid-100 grid-parent">
		<div class="discover-menu">
			<div class="filter left">
				<div class="am-Select">
					CATEGORÍAS &nbsp;&nbsp;<i class="fa fa-caret-left"></i>
				</div>
				<div class="left-menu u-padding-top-10">
					<div class="am-Filter filter-category">
						<div class="am-Filter-item">
							<header class="am-Filter-header">
								<i class="fa fa-bars"></i><p>Ver sólo</p>
							</header>
						</div>
						<div class="am-Filter-item">
							<div class="am-Filter-switch">
								<div class="am-Switch-button">
									<i class="fa fa-bars"></i>
								</div>
								<span>Seleccionado AM</span>
							</div>
						</div>
						<div class="am-Filter-item">
							<header class="am-Filter-header">
								<i class="fa fa-bars"></i><p>Categorías</p>
							</header>
						</div>
					</div>
				</div>
			</div>
			<div class="text">
				<p class="am-navigation-text">Fotografía > Blanco y negro (234)</p>
			</div>
			<div class="filter right">
				<div class="am-Select">
					ORDENAR &nbsp;&nbsp;<i class="fa fa-caret-down"></i>
				</div>
				<div class="right-menu u-padding-top-10">
					<div class="am-Filter filter-order">
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- defoult state 	= menu closed -->
<!-- new state 			= menu open -->
<!-- <div class="discover-content grid-container u-padding-top-10 u-padding-bottom-40"> -->
<div class="discover-content menu_open grid-container u-padding-top-10 u-padding-bottom-40">
	<div class="grid-100 grid-parent">
		<div class="grid work-layout-discover">
		</div>
	</div>
	<div class="grid-100 u-margin-top-10">
		<a class="am-More-button">I need more</a>
	</div>
</div>

{% endblock %}

{% block scripts %}

<!-- ********************************************************************
$ MASONRY
********************************************************************* -->
<script src="http://imagesloaded.desandro.com/imagesloaded.pkgd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js"></script>
<script type="text/javascript">
$(document).ready(onReady);
function onReady() {
	var data = {{ data|json|safe }};
	console.log(data);
	new APP.DiscoverScreen('works', APP.NavigationManager.NAVIGATION_INFINITE, data);

	var $container = $('.grid');
	$container.imagesLoaded(function(){
		$container.masonry({
			columnWidth: 120,
			itemSelector: '.grid-item'
		});
	});
}
</script>

{% endblock %}
