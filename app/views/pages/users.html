{% extends '../partials/base.html' %}

{% set path = 'users' %}
{% set title = 'Arte Manifiesto | Artistas' %}
{% set css = 'users' %}

{% block elements %}

{% include '../partials/section.html' %}

<script type="text/template" id="template">
    <div class="user-wrapper">
        <article class="user">
            <a class="user-header" href="#">
                <div class="avatar">
                    <img src="<%= photo %>">
                </div>
                <div class="info">
                    <p class="high-text" data-size='small'><%= firstname %></p>
                    <p class="skinny-text" data-color='light' data-size='small'><i class="fa fa-map-marker"></i> Lima, Peru</p>
                </div>
            </a>
            <div class="user-works">
                <% _.each(Works, function(work) { %>
                <div class="work" style="background-image: url('<%= work.photo %>');"></div>
                <% }); %>

                <% if (Works.length < 6) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
                <% if (Works.length < 5) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
                <% if (Works.length < 4) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
                <% if (Works.length < 3) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
                <% if (Works.length < 2) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
                <% if (Works.length < 1) { %>
                <div class="work" style="background: #ccc; border: 1px solid white;"></div>
                <% } %>
            </div>
            <div class="user-follow">
                <% if (following) { %>
                <button class="button-liner disabled" data-following="true" data-size='small'>
                    <% } else { %>
                    <button class="button-liner" data-following="false" data-size='small'>
                        <% } %>
                        <span class="button-liner__action folllow">Seguir</span>
                        <span class="button-liner__action following"><i class="fa fa-check"></i> Siguiendo</span>
                        <span class="button-liner__action cancel"><i class="fa fa-times-circle"></i> Cancelar</span>
                        <span class="button-liner__number"><%= numOfFollowers %></span>
                    </button>
            </div>
        </article>
    </div>
</script>

{% endblock %}

{% block scripts %}

<script type="text/javascript">

    var url = {{ url|json|safe }}
    console.log('url: ', url)
    var pagination = {{ pagination|json|safe }}
    console.log('pagination: ', pagination)
    var user = {{ user|json|safe }}
    console.log('user: ', user)
    var users = {{ users|json|safe }}
    console.log('users: ', users)
</script>

<script type="text/javascript" src="/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="/js/vendor/underscore-min.js"></script>
<script type="text/javascript" src="/js/lib/search.js"></script>
<script type="text/javascript" src="/js/lib/section.js"></script>
<script type="text/javascript" src="/js/lib/user.js"></script>
<script type="text/javascript" src="/js/users.js"></script>

{% endblock %}